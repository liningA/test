<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 02</title>
</head>
<body>
<ul>
   <li>["北京", 90],</li>
   <li>["上海", 50],</li>
    <li>["福州", 10],</li>
   <li> ["广州", 50],</li>
   <li>["成都", 90],</li>
   <li>["西安", 100]</li>
</ul>

<button id="sort-btn">排序</button>

<h3>污染城市列表</h3>
<ul id="aqi-list">
    <!--
        <li>第一名：福州（样例），10</li>
          <li>第二名：福州（样例），10</li> -->
</ul>

<script type="text/javascript">

    var aqiData = [
        ["北京", 90],
        ["上海", 50],
        ["福州", 10],
        ["广州", 50],
        ["成都", 90],
        ["西安", 100]
    ];

    function sortAqiData( ) {

        /*
        在注释下方编写代码
        遍历读取aqiData中各个城市的数据
        将空气质量指数大于60的城市显示到aqi-list的列表中
        */
        //第一种方式
        /*
         var cons=document.querySelector("#aqi-list");
        var  list1=aqiData.filter(function (item) {
               return(item[1]>=60);
            
        })
        list1.sort(function (a,b) {
               return(b[1]-a[1]);
        })
        list1.forEach(function (item,index,array) {
            var newNode=document.createElement("li");
            newNode.innerHTML=array[index][0]+":"+array[index][1];
            cons.appendChild(newNode);
        })
        */
        //第二种
        /*
        var list = document.getElementById("aqi-list");
        aqiData.sort(function (a,b) {
            return(b[1]-a[1]);

        })
        console.log(aqiData);
        for(var i = 0; i < aqiData.length; i++){
            var choice=aqiData[i];
            if(choice[1]>=60){
                var newNode=document.createElement("li");
                newNode.innerHTML="第" + [i+1] + '名 : ' + choice;
                list.appendChild(newNode);
            }

        }
    };
*/
        //第三种
        /*
        var sortList=document.getElementById("aqi-list");
            aqiData.sort(function (a,b) {
                 return(b[1]-a[1])

             })
        for(var i=0;i<aqiData.length;i++){
            if (aqiData[i][1]>60) {
                    var item = document.createElement("li");
                    item.innerHTML = "第" + [i + 1] + "名:" + aqiData[i][0] + "," + aqiData[i][1];
                    sortList.appendChild(item);
            }
        }
    }
    var btn=document.getElementById("sort-btn");
          btn.onclick=sortAqiData;
          */
        //第四种

        var sortList=document.querySelector("#aqi-list");
          var list= aqiData.filter(function (item) {
               return(item[1]>60);

           })
          list.sort(function (a,b) {
              return(b[1]-a[1]);

          })
        list.forEach(function (item,index,array) {
            var li=document.createElement("li");
            li.innerHTML=array[index][0]+array[index][1];
            sortList.appendChild(li);
        })
    }
    var btn=document.getElementById("sort-btn");
    btn.onclick=sortAqiData;
</script>
</body>
</html>